# 写测试
测试是同步运行的，当然也可以指定同步或异步。除非返回 promise，[observable](https://github.com/zenparsing/zen-observable) 或将其声明为回调测试，其他情况测试都将被视为同步。

你必须同步地定义所有测试。 它们不能在 `setTimeout`，`setImmediate` 等内定义。

AVA 在当前工作目录中包含 package.json 文件的目录中运行测试。

## 进程隔离
每个测试文件都在一个单独的 Node.js 进程中运行。 这允许你更改全局状态或覆盖一个测试文件中的内置状态，而不会影响另一个。 在现代多核处理器上的性能也非常出色，允许多个测试文件并行执行。

AVA将 `process.env.NODE_ENV` 设置为 `test`，除非你已经设置了 `NODE_ENV` 环境变量。 如果正在测试的代码具有测试默认值（例如选择要连接的数据库或依赖环境都特定Babel选项时），这将非常有用。这可能会导致你的代码或其依赖行为不同。但请注意，`process.env 中的 'NODE_ENV'` 将始终为 'true`。

## 声明测试
要声明测试，请调用从AVA导入的 `test` 函数。添加上标题和实现函数。标题在每个测试文件中必须是唯一的。运行测试时将调用该函数。它传递了一个 [execution object](./02-execution-context.md) 作为它的第一个参数。

**注意:** 为了使 [enhanced assertion messages](./03-assertions.md#enhanced-assertion-messages) 正常运行, 第一个参数 **必须** 为 `t`.

```js
import test from 'ava';

test('my passing test', t => {
	t.pass();
});
```

## 连续运行测试
测试默认同时运行，但有时你需要写一些不并发运行的测试。在这些特例中，您可以使用 `.serial` 修饰符。它会强制先顺序运行这些测试然后再运行同步测试。

```js
test.serial('passes serially', t => {
	t.pass();
});
```
